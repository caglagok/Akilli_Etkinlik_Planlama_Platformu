@model List<YAZLAB2.Models.Mesaj>

@{
    ViewData["Title"] = "Etkinlik Mesajları";
    var etkinlikId = ViewData["EtkinlikId"];
}

<h2>@ViewData["Title"]</h2>

<h3>Etkinlik Mesajları</h3>

@if (Model.Any())
{
    <ul>
        @foreach (var mesaj in Model)
        {
            <li>
                <strong>@mesaj.GondericiID</strong> - @mesaj.GonderimZamani.ToString("dd/MM/yyyy HH:mm")<br />
                @mesaj.MesajMetni
            </li>
        }
    </ul>
}
else
{
    <p>Henüz mesaj bulunmamaktadır.</p>
}

<!-- Yorum Ekleme Formu -->
<h3>Yeni Mesaj Ekle</h3>
<form asp-action="EtkinlikMesajEkle" method="post">
    <input type="hidden" name="etkinlikId" value="@etkinlikId" />
    <textarea name="mesajMetni" required class="form-control" placeholder="Mesajınızı yazın..."></textarea><br />
    <button type="submit" class="btn btn-primary">Mesaj Gönder</button>
</form>

<a href="@Url.Action("Index", "Home")" class="btn btn-secondary">Ana Sayfaya Dön</a>
